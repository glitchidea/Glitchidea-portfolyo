import"./footer-C-BDvUDr.js";import"./cursor-BCjI2BBM.js";import"./work-pars-l0sNRNKZ.js";class v{constructor(){this.works=[],this.init()}async init(){console.log("AboutWorkLoader başlatılıyor..."),await this.loadStarredWorks(),this.renderStarredWorks(),this.setupOphironHeroLink(),this.updateStats(),console.log("AboutWorkLoader tamamlandı")}async loadStarredWorks(){try{console.log("Yıldızlı işler work-pars.js'den yükleniyor...");let e=0;const t=20;for(;!window.workParser&&e<t;)await new Promise(n=>setTimeout(n,100)),e++;if(window.workParser)this.works=await window.workParser.loadStarredWorks();else{console.log("WorkParser bulunamadı, doğrudan fetch ediliyor...");const n=await fetch("works.json");if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const o=await n.json();this.works=(o.works||[]).filter(r=>r.stars==="yes")}console.log("Toplam yıldızlı iş sayısı:",this.works.length),console.log("Yıldızlı işler:",this.works)}catch(e){console.error("Yıldızlı işler yüklenirken hata:",e),this.works=[{id:"error",title:"Veriler Yüklenemedi",type:"error",client:"Sistem",date:"2024-01-01",duration:"1 gün",description:"İş verileri yüklenirken bir hata oluştu",content:"Lütfen sayfayı yenileyin veya daha sonra tekrar deneyin.",technologies:["Error"],tools:["System"],results:["Tekrar deneyin"],link:"",image:"⚠️",status:"error",stars:"yes"}]}}renderStarredWorks(){console.log("Yıldızlı işler render ediliyor...");const e=document.getElementById("aboutWorkGrid");if(!e){console.error("About work grid bulunamadı");return}e.innerHTML="",this.works.forEach(t=>{const n=this.createAboutWorkCard(t);e.appendChild(n)}),console.log(`${this.works.length} yıldızlı iş render edildi`)}createAboutWorkCard(e){const t=document.createElement("div");t.className="work-item fade-in",t.setAttribute("data-work-id",e.id);const o=new Date(e.date).toLocaleDateString("tr-TR",{year:"numeric",month:"long"});return e.id==="ophiron-platform"?(t.innerHTML=`
        <div class="work-icon">${e.image}</div>
        <h3 class="work-title-small">${e.title}</h3>
        <p class="work-description">
          ${e.description}
        </p>
        <div class="work-examples">
          ${e.client} - ${o}
        </div>
      `,t.addEventListener("click",()=>{this.openOphironModal(e)}),t.style.cursor="pointer"):t.innerHTML=`
        <div class="work-icon">${e.image}</div>
        <h3 class="work-title-small">${e.title}</h3>
        <p class="work-description">
          ${e.description}
        </p>
        <div class="work-examples">
          ${e.client} - ${o}
        </div>
      `,setTimeout(()=>{t.classList.add("visible")},100),t}openOphironModal(e){const t=document.getElementById("ophironModal"),n=document.getElementById("ophironModalTitle"),o=document.getElementById("ophironModalDescription"),r=document.getElementById("ophironModalLink");if(n.textContent=e.title,o.textContent=e.content,e.link&&e.link.trim()!=="")r.href=e.link,r.style.display="flex",r.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
          <polyline points="15,3 21,3 21,9"/>
          <line x1="10" y1="14" x2="21" y2="3"/>
        </svg>
        Projeye Git
      `;else{r.style.display="none";const s=document.createElement("div");s.className="modal-no-link-message",s.textContent="Bu proje şu an hazır değil.",s.style.cssText="text-align: center; color: #666; margin-top: 10px; font-style: italic;",t.querySelector(".modal-no-link-message")||t.querySelector(".modal-actions").appendChild(s)}t.style.display="flex",document.body.style.overflow="hidden",window.cursorUtils&&window.cursorUtils.showInModal&&window.cursorUtils.showInModal()}openOphironProjectModal(e){const t=document.getElementById("ophironModal"),n=document.getElementById("ophironModalTitle"),o=document.getElementById("ophironModalDescription"),r=document.getElementById("ophironModalLink");if(n.textContent=e.title,o.textContent=e.description,e.link&&e.link.trim()!=="")r.href=e.link,r.style.display="flex",r.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
          <polyline points="15,3 21,3 21,9"/>
          <line x1="10" y1="14" x2="21" y2="3"/>
        </svg>
        Projeye Git
      `;else{r.style.display="none";const s=document.createElement("div");s.className="modal-no-link-message",s.textContent="Bu proje şu an hazır değil.",s.style.cssText="text-align: center; color: #666; margin-top: 10px; font-style: italic;",t.querySelector(".modal-no-link-message")||t.querySelector(".modal-actions").appendChild(s)}t.style.display="flex",document.body.style.overflow="hidden",window.cursorUtils&&window.cursorUtils.showInModal&&window.cursorUtils.showInModal()}async setupOphironHeroLink(){try{const n=(await(await fetch("projects.json")).json()).find(s=>s.title==="Ophiron Platform"),o=document.getElementById("ophironHeroLink"),r=document.getElementById("ophironHeroText");n&&o&&r&&(r.textContent=n.title,o.addEventListener("click",()=>{this.openOphironProjectModal(n)}))}catch(e){console.error("Ophiron projesi yüklenirken hata:",e)}}getWorkById(e){return this.works.find(t=>t.id===e)}async updateStats(){try{const t=await(await fetch("projects.json")).json(),o=await(await fetch("works.json")).json(),r=o.works.length,s=o.works.filter(i=>i.status==="completed").length,w=o.works.filter(i=>i.type==="security").length,g=o.works.filter(i=>i.type==="developer").length,f=o.works.filter(i=>i.type==="product").length,x=o.works.filter(i=>i.stars==="yes").length,c=new Date().getFullYear()-2023,d=t.length,a=document.querySelectorAll(".stat-item");if(a.length>=4){const i=a[0].querySelector(".stat-number");i&&(i.textContent=`${d}+`);const u=a[1].querySelector(".stat-number");u&&(u.textContent=`${c}+`);const h=a[2].querySelector(".stat-number");h&&(h.textContent="100%");const y=a[3].querySelector(".stat-number");y&&(y.textContent="∞")}const m=document.getElementById("storyExperienceYears");m&&(m.textContent=`${c}`);const p=document.getElementById("storyProjectCount");p&&(p.textContent=`${d}`),console.log(`İstatistikler güncellendi: ${d} proje, ${c} yıl deneyim`),console.log(`Works stats (dinamik): ${r} toplam, ${x} yıldızlı, ${w} güvenlik, ${g} geliştirici, ${f} ürün`)}catch(e){console.error("İstatistikler güncellenirken hata:",e)}}}let k;document.addEventListener("DOMContentLoaded",function(){console.log("DOM yüklendi, AboutWorkLoader başlatılıyor..."),setTimeout(()=>{k=new v,window.aboutWorkLoader=k},100),b()});async function b(){try{const l=await fetch("contact.json");if(!l.ok)throw new Error("İletişim verileri yüklenemedi");const e=await l.json(),t=e?.contact?.email?.address,n=e?.contact?.email?.active,o=document.querySelector('.contact-btn[href^="mailto:"]');o&&n&&t&&t.trim()!==""?(o.href=`mailto:${t}`,console.log("About sayfası email butonu güncellendi:",t)):o&&(o.style.display="none",console.log("Email butonu gizlendi (pasif veya boş)"))}catch(l){console.error("About sayfası email yükleme hatası:",l)}}const E={threshold:.1,rootMargin:"0px 0px -50px 0px"},j=new IntersectionObserver(l=>{l.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},E);document.querySelectorAll(".fade-in").forEach(l=>{j.observe(l)});
